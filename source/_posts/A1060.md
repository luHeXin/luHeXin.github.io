---
title: PAT A1060 Are They Equal (25分)
date: 2020-02-26 21:38:31
tags:
- PAT
categories: PAT 甲级
---
# Problem Description
If a machine can save only 3 significant digits, the float numbers 12300 and 12358.9 are considered equal since they are both saved as 0.123×10^5 with simple chopping. Now given the number of significant digits on a machine and two float numbers, you are supposed to tell if they are treated equal in that machine.
## Input Specification:
Each input file contains one test case which gives three numbers N, A and B, where N (<100) is the number of significant digits, and A and B are the two float numbers to be compared. Each float number is non-negative, no greater than 10^100, and that its total digit number is less than 100.
## Output Specification:
For each test case, print in a line YES if the two numbers are treated equal, and then the number in the standard form 0.d[1]...d[N]*10^k (d[1]>0 unless the number is 0); or NO if they are not treated equal, and then the two numbers in their standard form. All the terms must be separated by a space, with no extra space at the end of a line.

Note: Simple chopping is assumed without rounding.

## Sample Input1:
3 12300 12358.9

## Sample Output1:
YES 0.123*10^5

## Sample Input1:
3 120 128

## Sample Output1:
NO 0.120*10^3 0.128*10^3

<hr/>

# 思路：
- 先将样例格式转换为`0.a1a2a3....x10^e`(a1不为零),获取数值本体部分和指数部分，进行比较比较。<br/>

但是，所给数据可能出现如下特殊情况，需进一步处理：
- 000000.0000000xxxx
- 000000.xxxxxx
- 00000000000xxxxxxxx
- 0000xxx.xxxxxx

大概思路为->删除多余`0`位->找到小数点(并删除)->确定指数`e`->在没有小数点，没有高位`0`的情况下，可确定整数部分`a1a2a3a4`->根据精度，添加`0`位
具体处理过程为：

1. 第一个非零位前的`0`均删除
2. 如果去掉多余零后，是小数点(对应上述前两中情况)，则说明小于1，删除小数点，删除零，继续寻找有效数位。
3. 如果去掉多余零后，是整数(对应上述后两种情况),则说明大于等于1，寻找小数点，删除小数点。
4. 如果去掉多余的零后，长度为零，做说明原数为零，将e赋值0。
5. 如果精度没到要求，补零。
<hr/>

# 参考代码：
```c++
#include<iostream>
#include<cstring>
#include<string>

using namespace std;

int change(string &s1,int n) { //返回10的指数,n位有效位数
	int len=s1.length();
	int e=0;
	while(s1[0]=='0'&&s1.length()>0) { //删除多余零
		s1.erase(s1.begin());
	}
	if(s1[0]=='.') {
		s1.erase(s1.begin());//删除小数点
		while(s1[0]=='0'&&s1.length()>0) { //删除多余零，这是可得到整数部分a1a2a3...(a1>0)
			s1.erase(s1.begin());
			e--;//每删除一位，指数-1
		}
	} else if(s1[0]!='.') { //因为多余的零被删除，所以此时，不是小数点 就是整数
		for(int i=0; i<s1.length(); i++) {
			if(s1[i]=='.') { //找到小数点
				s1.erase(s1.begin()+i);//删除小数点，保留整数
				e=i;
				break;
			} else { //没有小数点纯整数
				e=i+1;
			}
		}
	}
	if(s1.length()==0) {
		e=0;
	}

	if(s1.length()>=n) { //得舍
		s1=s1.substr(0,n);
	} else {
		while(s1.length()<n) {
			s1+='0';
		}
	}


	return e;

}

int main() {
	int n;
	string s1,s2;
	cin>>n>>s1>>s2;

	int poly1=change(s1,n);
	int poly2=change(s2,n);

	if((s1==s2)&&(poly1==poly2)) {
		cout<<"YES 0."<<s1<<"*10^"<<poly1;
	} else {
		cout<<"NO 0."<<s1<<"*10^"<<poly1<<" 0."<<s2<<"*10^"<<poly2;
	}
	return 0;
}
```