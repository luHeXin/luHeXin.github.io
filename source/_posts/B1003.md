---
title: B1003
date: 2019-08-10 13:51:10
tags:
- PAT
categories: PAT 乙级
---
# 题目描述
“答案正确”是自动判题系统给出的最令人欢喜的回复。本题属于 PAT 的“答案正确”大派送 —— 只要读入的字符串满足下列条件，系统就输出“答案正确”，否则输出“答案错误”。

得到“答案正确”的条件是：

1. 字符串中必须仅有 P、 A、 T这三种字符，不可以包含其它字符；
2. 任意形如 xPATx 的字符串都可以获得“答案正确”，其中 x 或者是空字符串，或者是仅由字母 A 组成的字符串；
3. 如果 aPbTc 是正确的，那么 aPbATca 也是正确的，其中 a、 b、 c 均或者是空字符串，或者是仅由字母 A 组成的字符串。

现在就请你为 PAT 写一个自动裁判程序，判定哪些字符串是可以获得“答案正确”的。

# 输入格式：
每个测试输入包含 1 个测试用例。第 1 行给出一个正整数 n (<10)，是需要检测的字符串个数。接下来每个字符串占一行，字符串长度不超过 100，且不包含空格。
# 输出格式：
每个字符串的检测结果占一行，如果该字符串可以获得“答案正确”，则输出 YES，否则输出 NO。
# 输入样例：
8

PAT

PAAT

AAPATAA

AAPAATAAAA

xPATx

PT

Whatever

APAAATAA
# 输出样例：
YES

YES

YES

YES

NO

NO

NO

NO
<hr/>

# 题目分析
给出若干字符串，判断答=答案是否正确，正确则输出"YES",错误则输出"NO"。
评判规则如下：

1. 出现P、A、T之外的字符，输出"NO";<br>P在T左面，P和T之间至少有一个A，否则输出"NO"。
2. 如xPATx格式输出"YES"，`x`代表空字符串，或由若干个A组成的字符串，如，PAT,APATA,AAPATAA....
3. 假设有一个字符串格式是aPbTc,这里的a、b、c可以为空，或者是任意数目的A。如果"aPbTc"是YES，则aPbATca也是YES。<br>
如，条件二中PAT,APATA,AAPATAA....是YES，则PAAT、APAATAA AAPAATAAAA也是YES。

# 思路：

记录字符P与字符T的数目与位置，并在输入时，判断其他字符是否是A，若其他字符不是A或P的数目不为1或T的数目不为1或P在T右侧则直接NO；

在题目分析中，可以发现条件三其实是条件二的特例，也就是说条件三其实是可以后推到条件而得，条件二有一个特点则是P与T之间只有一个A，且P的左侧与T的右侧A的数目相同。

因此，我们设字符串P左侧的A的数目为x，P、T中间A数目为y，T右侧A数目为z。

回推次数 | x |  y | z |  
-|-|-|-|
1 | x | y-1 | z-x
2 | x | y-2 | z-2x
n | x | y-n | z-nx
y-1 | x | 1 | z-(u-1)x

回推y-1次，则中间A的数目为1，若此时格式与条件二格式相同，即z-(u-1)x与x相等，就说明条件三通过。因为条件三是条件二的延伸特例，因此，不需要单独判断条件二。

# 参考代码：
``` c++
#include<cstdio>
#include<cstring>

int main() {
	int t;
	scanf("%d", &t);
	while (t--)
	{
		char str[110];
		scanf("%s", str);
		int len = strlen(str);

		int num_p = 0, num_t = 0, other = 0;
		int pos_p = -1, pos_t = -1;
		for (int i = 0; i < len; i++) {
			if (str[i] == 'P') {
				num_p++;
				pos_p = i;
			}
			else if (str[i] == 'T') {
				num_t++;
				pos_t = i;
			}
			else if (str[i] != 'A')other++;
		}

		if ((num_p != 1) || (num_t != 1) || (other != 0) || (pos_t - pos_p <= 1)) {
			printf("NO\n");
			continue;
		}
		//x,y,z分别为P左侧A数，P中间A数，P右侧A数
		//注意是从零开始的
		int x = pos_p, y = pos_t - pos_p - 1, z = len - pos_t - 1;
		if (z - (y - 1)*x == x) {
			printf("YES\n");
		}
		else
		{
			printf("NO\n");
		}
	}
	return 0;

}
```


