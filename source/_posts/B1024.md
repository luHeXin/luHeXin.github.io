---
title: PAT B1024 科学计数法 (20 point(s))
date: 2019-08-03 22:23:41
tags:
- PAT
categories: PAT 乙级
---
# 题目描述：
科学计数法是科学家用来表示很大或很小的数字的一种方便的方法，其满足正则表达式 [+-][1-9].[0-9]+E[+-][0-9]+，即数字的整数部分只有 1 位，小数部分至少有 1 位，该数字及其指数部分的正负号即使对正数也必定明确给出。

现以科学计数法的格式给出实数 A，请编写程序按普通数字表示法输出 A，并保证所有有效位都被保留。

# 输入格式：
每个输入包含 1 个测试用例，即一个以科学计数法表示的实数 A。该数字的存储长度不超过 9999 字节，且其指数的绝对值不超过 9999。
# 输出格式：
对每个测试用例，在一行中按普通数字表示法输出 A，并保证所有有效位都被保留，包括末尾的 0。
# 输入样例 1：
+1.23400E-03
# 输出样例 1：
0.00123400
# 输入样例 2：
-1.2E+10
# 输出样例 2：
-12000000000
<hr/>

# 题目分析：
给定一组用科学计数法表示的数字，<br/>
要求将其转化为正常表示数字，并输出.
# 思路：
1. 先输出字符串正负，正号不输出，符号正常输出。
2. 扫描字符串，找到`E`，`E`相当于分隔符，左侧为小数部分，右侧为指数部分。
3. 指数小于零，小数点往左移，输出0.000...xxxx。
4. 指数大于零，小数点往右移，有两种情况。
    1. 第一种情况：小数点移完，数字还是小数x...xx . x..xx。
    2. 第二种情况：小数点移完，数字变为整数xxxxx...xxxx或者xxxx...xxx00000。
5. 指数为零，直接输出小数部分。


# 注意点
- 使用fgets()接受输入，是其字符串长度是strlen(s)-1。
- 注意数字存储长度，题目中说数字存储长度不超过9999Byte，而一个字符是1Byte，所以不超过9999字符。
- 要考虑指数为零的情况。

# 参考代码
``` c
#include<cstdio>
#include<cstring>

int const maxn = 10010;//一个char类型的为一个字节，长度不超过9999个字符，因此选择10010
int main() {
	int i = 0;
	char s[maxn];
	fgets(s, maxn, stdin);

	int pos = 0;//记录E的位置，E后为指数，前为普通数字
	while (s[i]!='E')
	{
		i++;
	}
	pos = i;
	//输出正负号
	if (s[0] == '+') printf("");
	else if (s[0] == '-')printf("-");

	int len = strlen(s)-1;

	int exp = 0;//exp中存储指数
	for (i = pos + 2; i < len; i++) {//因为E的位置为pos而E后的一个为正负号，所以第一个数字式pos+2
		exp = exp * 10 + (s[i] - '0');
	
	}
	
	//如果指数是零，直接输出
	if (exp == 0) {
		for (i = 1; i < pos; i++) {
			printf("%c", s[i]);
		}		
	}
	//指数小于零先输出0，再输出exp-1个零。再输出数字，但是数字不能有小数点
	if (s[pos+1] =='-') {
		printf("0.");
		for (i = 0; i < exp - 1; i++) {
			printf("0");
		}
		printf("%c", s[1]);
		for (i = 3; i < pos; i++) {
			//if (s[i] == '.') continue;//遇到小数点则跳过
			printf("%c", s[i]);
		}
	}
	//输出指数大于零
	else {
		for (i = 1; i < pos; i++) {
			if (s[i] == '.') continue;
			printf("%c", s[i]);//输出数字
			//添加小数点,加在exp+2位置
			//科学计数法中，小数位数为pos-3，小数点移动的位数(exp)等于小数位数不加小数点
			if (i == exp + 2 && pos - 3 != exp) printf(".");
		}
		//如果exp足够大，输出普通数字不含小数，添exp-(pos-3)个零
		for (i = 0; i < exp - (pos - 3); i++)
			printf("0");
	}
	return 0;
}
```